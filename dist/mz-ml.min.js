/* 
mzMl v1.0.0
A collection of TypeScript-based ML helpers.
https://github.com/mzusin/mz-ml
Copyright (c) 2023-present, Miriam Zusin          
*/
(()=>{var f=Object.defineProperty;var u=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var m=(n,t,i)=>t in n?f(n,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[t]=i,g=(n,t)=>{for(var i in t||(t={}))M.call(t,i)&&m(n,i,t[i]);if(u)for(var i of u(t))G.call(t,i)&&m(n,i,t[i]);return n};var B=(n,t)=>{for(var i in t)f(n,i,{get:t[i],enumerable:!0})};var c=(n,t,i)=>(m(n,typeof t!="symbol"?t+"":t,i),i);var d={};B(d,{LinearRegression:()=>b});var b=class{constructor(t){c(this,"options");c(this,"m");c(this,"b");this.options=t,this.m=0,this.b=0}shuffle(){for(let t=this.options.points.length-1;t>0;t--){let i=Math.floor(Math.random()*(t+1));[this.options.points[t],this.options.points[i]]=[this.options.points[i],this.options.points[t]]}}gradientDescent(){let t=0,i=0,e=this.options.points.length;for(let r=0;r<e;r++){let[a,p]=this.options.points[r],l=this.m*a+this.b,h=-2/e*(p-l);t+=a*h,i+=h}let s=this.m-this.options.learningRate*t,o=this.b-this.options.learningRate*i;return[s,o]}miniBatchGradientDescent(t){let i=0,e=0,s=t.length;for(let[a,p]of t){let l=this.m*a+this.b,h=p-l;i+=-2*a*h,e+=-2*h}let o=this.m-this.options.learningRate/s*i,r=this.b-this.options.learningRate/s*e;return[o,r]}train(){var i;let t=this.options.optimization===2?(i=this.options.batchSize)!=null?i:this.options.points.length:1;for(let e=0;e<this.options.epochs;e++)if(this.options.shuffle&&this.shuffle(),this.options.optimization===1||this.options.optimization===2)for(let s=0;s<this.options.points.length;s+=t){let o=this.options.points.slice(s,s+t),[r,a]=this.miniBatchGradientDescent(o);typeof this.options.epochsCallback=="function"&&this.options.epochsCallback(e,this.options.epochs,r,a),this.m=r,this.b=a}else{let[s,o]=this.gradientDescent();this.options.epochsCallback&&typeof this.options.epochsCallback=="function"&&this.options.epochsCallback(e,this.options.epochs,s,o),this.m=s,this.b=o}return[this.m,this.b]}predict(t){return this.m*t+this.b}};var D=g({},d);window.mzMl=window.mzMl||D;})();
//# sourceMappingURL=mz-ml.min.js.map
