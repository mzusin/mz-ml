/* 
mzMl v1.0.0
A collection of TypeScript-based ML helpers.
https://github.com/mzusin/mz-ml
Copyright (c) 2023-present, Miriam Zusin          
*/
(()=>{var f=Object.defineProperty;var d=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var p=(s,t,i)=>t in s?f(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,g=(s,t)=>{for(var i in t||(t={}))k.call(t,i)&&p(s,i,t[i]);if(d)for(var i of d(t))w.call(t,i)&&p(s,i,t[i]);return s};var C=(s,t)=>{for(var i in t)f(s,i,{get:t[i],enumerable:!0})};var a=(s,t,i)=>(p(s,typeof t!="symbol"?t+"":t,i),i);var u={};C(u,{SimpleLinearRegression:()=>l});var l=class{constructor(t){a(this,"options");a(this,"m");a(this,"b");this.options=t,this.m=0,this.b=0}shuffle(){for(let t=this.options.points.length-1;t>0;t--){let i=Math.floor(Math.random()*(t+1));[this.options.points[t],this.options.points[i]]=[this.options.points[i],this.options.points[t]]}}gradientDescent(t,i){let n=0,o=0,e=this.options.points.length;for(let r=0;r<e;r++){let[m,M]=this.options.points[r],R=t*m+i,b=-2/e*(M-R);n+=m*b,o+=b}let h=t-this.options.learningRate*n,c=i-this.options.learningRate*o;return[h,c]}stochasticGradientDescent(t,i){let n=this.m*t+this.b,o=i-n,e=-2*t*o,h=-2*o,c=this.m-this.options.learningRate*e,r=this.b-this.options.learningRate*h;return[c,r]}train(){for(let t=0;t<this.options.epochs;t++)switch(this.options.optimization){case 1:{this.options.shuffle&&this.shuffle();for(let[i,n]of this.options.points){let[o,e]=this.stochasticGradientDescent(i,n);typeof this.options.epochsCallback=="function"&&this.options.epochsCallback(t,this.options.epochs,o,e),this.m=o,this.b=e}break}default:{let[i,n]=this.gradientDescent(this.m,this.b);this.options.epochsCallback&&typeof this.options.epochsCallback=="function"&&this.options.epochsCallback(t,this.options.epochs,i,n),this.m=i,this.b=n;break}}return[this.m,this.b]}predict(t){return this.m*t+this.b}};var D=g({},u);window.mzMl=window.mzMl||D;})();
//# sourceMappingURL=mz-ml.min.js.map
