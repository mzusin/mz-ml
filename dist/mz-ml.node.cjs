/* 
mzMl v1.0.0
A collection of TypeScript-based ML helpers.
https://github.com/mzusin/mz-ml
Copyright (c) 2023-present, Miriam Zusin          
*/
var a=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var k=Object.prototype.hasOwnProperty;var M=(i,t,s)=>t in i?a(i,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[t]=s;var R=(i,t)=>{for(var s in t)a(i,s,{get:t[s],enumerable:!0})},C=(i,t,s,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of g(t))!k.call(i,n)&&n!==s&&a(i,n,{get:()=>t[n],enumerable:!(o=f(t,n))||o.enumerable});return i};var D=i=>C(a({},"__esModule",{value:!0}),i);var h=(i,t,s)=>(M(i,typeof t!="symbol"?t+"":t,s),s);var G={};R(G,{SimpleLinearRegression:()=>l});module.exports=D(G);var l=class{constructor(t){h(this,"options");h(this,"m");h(this,"b");this.options=t,this.m=0,this.b=0}shuffle(){for(let t=this.options.points.length-1;t>0;t--){let s=Math.floor(Math.random()*(t+1));[this.options.points[t],this.options.points[s]]=[this.options.points[s],this.options.points[t]]}}gradientDescent(t,s){let o=0,n=0,e=this.options.points.length;for(let r=0;r<e;r++){let[u,m]=this.options.points[r],d=t*u+s,b=-2/e*(m-d);o+=u*b,n+=b}let c=t-this.options.learningRate*o,p=s-this.options.learningRate*n;return[c,p]}stochasticGradientDescent(t,s){let o=this.m*t+this.b,n=s-o,e=-2*t*n,c=-2*n,p=this.m-this.options.learningRate*e,r=this.b-this.options.learningRate*c;return[p,r]}train(){for(let t=0;t<this.options.epochs;t++)switch(this.options.optimization){case 1:{this.options.shuffle&&this.shuffle();for(let[s,o]of this.options.points){let[n,e]=this.stochasticGradientDescent(s,o);typeof this.options.epochsCallback=="function"&&this.options.epochsCallback(t,this.options.epochs,n,e),this.m=n,this.b=e}break}default:{let[s,o]=this.gradientDescent(this.m,this.b);this.options.epochsCallback&&typeof this.options.epochsCallback=="function"&&this.options.epochsCallback(t,this.options.epochs,s,o),this.m=s,this.b=o;break}}return[this.m,this.b]}predict(t){return this.m*t+this.b}};0&&(module.exports={SimpleLinearRegression});
//# sourceMappingURL=mz-ml.node.cjs.map
